# -*- coding: utf-8 -*-
# ---
# jupyter:
#   jupytext:
#     formats: ipynb,jl:light
#     text_representation:
#       extension: .jl
#       format_name: light
#       format_version: '1.5'
#       jupytext_version: 1.14.4
#   kernelspec:
#     display_name: Julia 1.8.5
#     language: julia
#     name: julia-1.8
# ---

versioninfo()

# ## 2-7. å‹ã®åŸºæœ¬

# ### 2-7-1. ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹

# #### ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–æ•´æ•°å‹

# #### ã‚³ãƒ¼ãƒ‰2-91. `Int`/`UInt` ã®ç¢ºèª

Int

UInt

# #### ã‚³ãƒ¼ãƒ‰2-92. æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«ã®å‹ã®ç¢ºèª

typeof(1)

typeof(2147483647)

typeof(2147483648)

typeof(9223372036854775807)

typeof(9223372036854775808)

typeof(170141183460469231731687303715884105727)

typeof(170141183460469231731687303715884105728)

typeof(0x0) == typeof(0xff) == 
typeof(0o0) == typeof(0o377) == 
typeof(0b0) == typeof(0b11111111) == UInt8

typeof(0x000) == typeof(0xffff) == 
typeof(0o400) == typeof(0o177777) == 
typeof(0b000000000) == typeof(0b1111111111111111) == UInt16

typeof(0x00000) == typeof(0xffffffff) == 
typeof(0o200000) == typeof(0o37777777777) == 
typeof(0b00000000000000000) == 
typeof(0b11111111111111111111111111111111) == UInt32

# ä»¥é™ç…©é›‘ã«ãªã‚‹ã®ã§16é€²è¡¨è¨˜ãƒªãƒ†ãƒ©ãƒ«ã®ã¿ç¤ºã™
typeof(0x000000000) == typeof(0xffffffffffffffff) == UInt64

typeof(0x00000000000000000) == 
typeof(0xffffffffffffffffffffffffffffffff) == UInt128

typeof(0x000000000000000000000000000000000) == 
typeof(0x100000000000000000000000000000000) == BigInt

# #### ã‚³ãƒ¼ãƒ‰2-93. æ•´æ•°ï¼ˆãƒªãƒ†ãƒ©ãƒ«ï¼‰ã®å‹å¤‰æ›ä¾‹

Int8(1)
# REPL ã®è¦‹ãŸç›®ä¸Šã¯åŒºåˆ¥ãŒä»˜ã‹ãªã„

typeof(Int8(1))

Int8(257)

257 % Int8  # ã“ã¡ã‚‰ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„

typeof(257 % Int8)

UInt16(4660)

4660 % UInt16

typeof(UInt16(4660)) == typeof(4660 % UInt16) == UInt16

# #### ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–æµ®å‹•å°æ•°ç‚¹æ•°å‹

# #### ã‚³ãƒ¼ãƒ‰2-94. æµ®å‹•å°æ•°ç‚¹æ•°ï¼ˆãƒªãƒ†ãƒ©ãƒ«ï¼‰ã®å‹ã®ç¢ºèªã¨å‹å¤‰æ›ä¾‹

typeof(1.0)

typeof(1e0)

typeof(1f0)

typeof(0x1p0)

Float16(1)

Float32(1.0)

Float16(65535)  # 65535 > floatmax(Float16) == 65504.0

# #### ãã®ä»–ã®æ¨™æº–ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹

# ### 2-7-2. è¤‡åˆå‹

# #### ã‚³ãƒ¼ãƒ‰2-95. è¤‡åˆå‹ã®ä¾‹(1)ï¼šç°¡å˜ãªå®šç¾©ä¾‹

struct Point
    x
    y
end

pt = Point(1.0, 2.0)

pt.x

pt.y

# #### ã‚³ãƒ¼ãƒ‰2-96. è¤‡åˆå‹ã®ä¾‹(2)ï¼šæœ‰ç†æ•°ã¨è¤‡ç´ æ•°ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

r = 1//2

r.num

r.den

c = 1.0 + 2.0im

c.re

c.im

# #### ã‚³ãƒ¼ãƒ‰2-97. æœ‰ç†æ•°ã¨è¤‡ç´ æ•°ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨åŒã˜å€¤ã‚’è¿”ã™é–¢æ•°

numerator(r)

denominator(r)

numerator(2)

denominator(2)

real(c)

imag(c)

real(2.0)

imag(2.0)

# ### 2-7-3. ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å‹

# #### é…åˆ—

# ##### ã‚³ãƒ¼ãƒ‰2-98. é…åˆ—ã®å‹ã®ç¢ºèª

typeof([1, 2, 3])

typeof([1.0 2.0; 3.0 4.0; 5.0 6.0])

typeof([100x + 10y + z for x=1:4, y=1:5, z=1:3])

# ##### ã‚³ãƒ¼ãƒ‰2-99. ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°(1)ï¼šãƒ™ã‚¯ãƒˆãƒ«ã®ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°å‚ç…§

v = [1, 2, 3];

v[1]

v[2]

v[0]ã€€ã€€# v[-1], v[4] ç­‰ã‚‚åŒæ§˜

v[begin]

v[end]

v[end-1]

# ##### ã‚³ãƒ¼ãƒ‰2-100. ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°(2)ï¼šãƒ™ã‚¯ãƒˆãƒ«ã®ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°ä»£å…¥

v[2] = 0

v

v[4] = 99

# ##### ã‚³ãƒ¼ãƒ‰2-101. ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°(3)ï¼šè¡Œåˆ—ï¼ˆå¤šæ¬¡å…ƒé…åˆ—ï¼‰ã®ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°ï¼ˆå¤šæ¬¡å…ƒã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰

M = [1.0 2.0; 3.0 4.0; 5.0 6.0];

M[1, 1]

M[3, 2]

M[CartesianIndex(3, 2)]

M[2, 3]

M[begin, begin]

M[end, end]

M[2, 2] = 0.0

M

M[CartesianIndex(2, 2)] = 10.0

M

# ##### ã‚³ãƒ¼ãƒ‰2-102. ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°(4)ï¼šè¡Œåˆ—ï¼ˆå¤šæ¬¡å…ƒé…åˆ—ï¼‰ã®ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°ï¼ˆç·šå½¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰

M = [1.0 2.0; 3.0 4.0; 5.0 6.0]

M[1]

M[2]

M[3]

M[4]

M[5]

M[6]

# ##### ã‚³ãƒ¼ãƒ‰2-103. ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°(5)ï¼šç¯„å›²æŒ‡å®š

v = [1, 0, 3]

v[1:2]

M = [1.0 2.0; 3.0 4.0; 5.0 6.0]

M[1:2, 1]

M[1, :]

M[1:1, :]

M[1:2, 1:1]

# ##### ã‚³ãƒ¼ãƒ‰2-104. ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°(6)ï¼šè«–ç†å¼ã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

M[M .> 3]

# #### è¾æ›¸

# ##### ã‚³ãƒ¼ãƒ‰2-105. è¾æ›¸ã®ä¾‹(1)ï¼šå®šç¾©ã¨ã‚­ãƒ¼å‚ç…§

d = Dict(:a => 1, :b => 2, :c => 3)

d[:a]

d[:n]

# ##### ã‚³ãƒ¼ãƒ‰2-106. è¾æ›¸ã®ä¾‹(2)ï¼šã‚¨ãƒ³ãƒˆãƒªãƒ¼ã®ç™»éŒ²ã¨æ›´æ–°

d[:b] = 20  # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã®æ›´æ–°

d[:e] = 5  # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã®ç™»éŒ²

d

# ##### ã‚³ãƒ¼ãƒ‰2-107. è¾æ›¸ã®ä¾‹(3)ï¼šã‚­ãƒ¼ã¨å€¤ã®å‹ï¼ˆã‚¨ãƒ©ãƒ¼ä¾‹ï¼‰

d[:pi] = Ï€

d["Invarid Key"] = -1

# #### é›†åˆ

# ##### ã‚³ãƒ¼ãƒ‰2-108. é›†åˆã®ä¾‹(1)ï¼šå®šç¾©

s = Set([3, 1, 4, 1, 5, 9, 2, 6, 5, 3])

# ##### ã‚³ãƒ¼ãƒ‰2-109. é›†åˆã®ä¾‹(2)ï¼šã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€`in` æ¼”ç®—å­

for n in s
    println(n)
end

3 âˆˆ s

0 âˆ‰ s

# ##### ã‚³ãƒ¼ãƒ‰2-110. é›†åˆã®ä¾‹(3)ï¼šè¦ç´ ã®è¿½åŠ ã¨å‰Šé™¤

push!(s, 0)

push!(s, 9)

pop!(s, 0)

s

# #### ã‚¿ãƒ—ãƒ«/åå‰ä»˜ãã‚¿ãƒ—ãƒ«

# ##### ã‚³ãƒ¼ãƒ‰2-111. ã‚¿ãƒ—ãƒ«ã®ä¾‹ï¼ˆå®šç¾©ãƒ»ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°å‚ç…§ï¼‰

t = ('a', 2, 99.9, Ï€)

t[1]

t[4]

t[3] = 10.0

push!(t, "Not Available")

# ##### ã‚³ãƒ¼ãƒ‰2-112. åå‰ä»˜ãã‚¿ãƒ—ãƒ«ã®ä¾‹ï¼ˆå®šç¾©ãƒ»ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°å‚ç…§ãƒ»ã‚­ãƒ¼å‚ç…§ãƒ»ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å‚ç…§ï¼‰

nt = (c='a', i=2, f=99.9, pi=Ï€)

nt.c

nt[:i]

nt[3]

nt.notexists

nt.f = 10.0

nt[:notexists] = "New Value"

# ### 2-7-4. æ–‡å­—åˆ—å‹

# #### ã‚³ãƒ¼ãƒ‰2-113. æ–‡å­—åˆ—å‹ã®ä¾‹

str = "abcã‚ã„ã†ğŸ˜„æ¼¢å­—"

str[1]

str[4]

str[7]

str[13]

str[17]

str[12]

# ### 2-7-5. å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

# #### ã‚³ãƒ¼ãƒ‰2-95. è¤‡åˆå‹ã®ä¾‹(1)ï¼šç°¡å˜ãªå®šç¾©ä¾‹ï¼ˆå†æ²ï¼‰

# ```julia
# julia> struct Point
#            x
#            y
#        end
#
# julia> pt = Point(1.0, 2.0)
# Point(1.0, 2.0)
#
# julia> pt.x
# 1.0
#
# julia> pt.y
# 2.0
# ```

# #### ã‚³ãƒ¼ãƒ‰2-114. å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³(1)ï¼šè¤‡åˆå‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ã®å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

struct IntPoint
    x::Int
    y::Int
end

IntPoint(1, 3)

IntPoint(2.0, 3.2)

# #### ã‚³ãƒ¼ãƒ‰2-115. å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³(2)ï¼šãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã¸ã®å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆï¼å¤‰æ•°ã®å‹ã®æŒ‡å®šï¼‰

function typeannotatesample()
    n::Int = 0
    n = 3.0
    n
end

result = typeannotatesample()

typeof(result)

# #### ã‚³ãƒ¼ãƒ‰2-116. å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³(3)ï¼šå¼ã¸ã®å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆï¼å‹æ¤œæŸ»ï¼‰

function typeassertsample(fn::Function)
    n = fn()::Int
    n
end

typeassertsample() do
    1 + 2
end

typeassertsample() do
    sin(Ï€)
end


